xgb_99_params = {}
xgb_99_params['tree_method'] = 'hist'
xgb_99_params['predictor'] = 'cpu_predictor'
xgb_99_params['max_depth'] = 5
xgb_99_params['learning_rate'] = 0.07
xgb_99_params['n_estimators'] = 10000
xgb_99_params['silent'] = True
xgb_99_params['objective'] = 'binary:logistic'
xgb_99_params['booster'] = 'gbtree'
xgb_99_params['n_jobs'] = -1
xgb_99_params['gamma'] = 10
xgb_99_params['min_child_weight'] = 20
xgb_99_params['subsample'] = 0.7
xgb_99_params['colsample_bytree'] = 0.6
xgb_99_params['scale_pos_weight'] = 1
xgb_99_params['random_state'] = MODEL_SEED
xgb_99_params['missing'] = None

combined = combined.drop(combined.columns[combined.columns.str.startswith('ps_calc') == True], axis=1)

# Drop this one because ind14 is sum of them
combined = combined.drop(['ps_ind_10_bin', 'ps_ind_11_bin', 'ps_ind_12_bin', 'ps_ind_13_bin'], axis=1)

# Drop this one and you will gain a lot of scores
combined = combined.drop(['ps_car_10_cat','ps_car_11_cat'], axis=1)

RECON CATEGORY

combined['row_na'] = (copy_combined == -1).sum(axis=1)
combined['count_car_na'] = (combined_car == -1).sum(axis=1)
combined['count_car_zero'] = (combined_car == 0).sum(axis=1)
combined['count_car_one'] = (combined_car == 1).sum(axis=1)
combined['count_ind_na'] = (combined_ind == -1).sum(axis=1)
combined['count_ind_zero'] = (combined_ind == 0).sum(axis=1)
combined['count_ind_one'] = (combined_ind == 1).sum(axis=1)
combined['count_reg_na'] = (combined_reg == -1).sum(axis=1)

SMOOTH ENCODING


BASED
All score [0.28529177586617449, 0.28672085174024764, 0.28521020474604319, 0.29231369015736564, 0.27801926781000397]
Average score: 0.285511158063967

SINGLE features
ADD sum_ps_ind_161718_bin
All score [0.28663987535511704, 0.2866353143806184, 0.28553532788592506, 0.292190136902299, 0.27834247107048449]
Average score: 0.2858686251188888

ADD RECON reg
All score [0.28571539998130924, 0.28565646897600228, 0.28458234541688043, 0.29262405210846676, 0.27792795414663374]
Average score: 0.2853012441258585

ADD ps_car_13_x_ps_reg_03
All score [0.28895028018608837, 0.28721143176471919, 0.28381958170454968, 0.29182805666612965, 0.27652492400975248]
Average score: 0.2856668548662479

ADD multi_reg
All score [0.28702855075200062, 0.28664395411204757, 0.28446410968765123, 0.2930411458118144, 0.2770023411676944]
Average score: 0.28563602030624163

ADD PS Car
All score [0.28658390998785421, 0.28627736026130535, 0.28377839228727075, 0.292923990032259, 0.27823757973501007]
Average score: 0.2855602464607399

ADD ps_ind
All score [0.28744761791111639, 0.28599358325941204, 0.28630932324911385, 0.29573876272023925, 0.27614307710332719]
Average score: 0.2863264728486417

Kinetic transform
All score [0.28419286632405005, 0.28597699095658813, 0.28601154184534572, 0.29275624918880006, 0.27680964112150652]
Average score: 0.2851494578872581

ADD PS_ind and sum_ps_ind_161718_bin
All score [0.28671716277585135, 0.28495552957438741, 0.28562881379846927, 0.29124969192810002, 0.27679742603994206]
Average score: 0.2850697248233501

ADD sum_reg
All score [0.28569620772209714, 0.28755720185347722, 0.28336971691674839, 0.29217715709959735, 0.27627632157646409]
Average score: 0.2850153210336769

ADD sum_ps_ind_161718_bin and PS Car
All score [0.28607631170170689, 0.28464068570566647, 0.28548232815670627, 0.2913864982448725, 0.27607947346704009]
Average score: 0.2847330594551984

ADD sum_ps_ind_161718_bin and RECON reg
All score [0.28454828076417082, 0.28806594942482855, 0.28456013126090796, 0.29357357490752745, 0.27819862331167244]
Average score: 0.2857893119338214

NOT Drop ps_car_10_cat and ps_car_11_cat
All score [0.28547429923419676, 0.28361718695424021, 0.28459621319044437, 0.2936844899336476, 0.27914553530910813]
Average score: 0.2853035449243274

DROP ps_car_10_cat
All score [0.28554108234890496, 0.28383863733545089, 0.28312062743192368, 0.29065998694139428, 0.2768246497146496]
Average score: 0.2839969967544647

DROP ps_car_11_cat
All score [0.28583192383817146, 0.28486222449343124, 0.28348988151625021, 0.29398791994677353, 0.27656505009045607]
Average score: 0.2849473999770165

NOT Drop ps_car_10_cat and ps_car_11_cat and ADD sum_ps_ind_161718_bin
All score [0.28547429923419676, 0.28361718695424021, 0.28459621319044437, 0.2936844899336476, 0.27914553530910813]
Average score: 0.2853035449243274

ADD sum_ps_ind_161718_bin and DROP ps_ind_16_bin ps_ind_17_bin ps_ind_18_bin
All score [0.2823820469306354, 0.27990743898075154, 0.27520628785347634, 0.28489713537502426, 0.27375266321637037]
Average score: 0.27922911447125154

NOT DROP ps_ind_10_bin ps_ind_11_bin ps_ind_12_bin ps_ind_13_bin
All score [0.28580840769476501, 0.28626784851977372, 0.28595015153044123, 0.29207077495813571, 0.27553731115153302]
Average score: 0.2851268987709298

DROP ps_ind_10_bin ps_ind_11_bin ps_ind_12_bin ps_ind_13_bin and ps_ind_14
All score [0.28464804756054007, 0.28678477771586464, 0.28650058279207891, 0.29421079481285373, 0.27994187100329637]
Average score: 0.2864172147769267

Not Recon
All score [0.2833283506863612, 0.28733210671114728, 0.28624723773721528, 0.29078882856189592, 0.27840856274082504]
Average score: 0.28522101728748894

DROP ps_ind_15
All score [0.27868300418715941, 0.28204298368455438, 0.2809682332425939, 0.28864861581846912, 0.27151652753793265]
Average score: 0.2803718728941419

DROP ps_car_02_cat
All score [0.28581580169747656, 0.28660811730977509, 0.28477369738487945, 0.29404379739462694, 0.27796615089559962]
Average score: 0.28584151293647153

DROP ps_car_04_cat
All score [0.28562380275424026, 0.28624804947012161, 0.28623402095736838, 0.29306448132707397, 0.2759984978062312]
Average score: 0.2854337704630071

DROP ps_car_05_cat
All score [0.28542086550916657, 0.28631984764753859, 0.28482554381041447, 0.29264913165913586, 0.27652120602671626]
Average score: 0.28514731893059436

DROP ps_car_06_cat
All score [0.28475685995479183, 0.2889992172322956, 0.2844439449563434, 0.29261365219224633, 0.27686503303958498]
Average score: 0.28553574147505245

DROP ps_car_08_cat
All score [0.28424658134266156, 0.28799716108873286, 0.28526305980999145, 0.29295692176078525, 0.27879690908354182]
Average score: 0.2858521266171426

DROP ps_ind_02_cat
All score [0.28472314490981909, 0.28637171416547214, 0.28100811263547942, 0.29419285616292801, 0.2748831189731219]
Average score: 0.28423578936936417

DROP ps_ind_04_cat
All score [0.28436384861827468, 0.28544426913514054, 0.28429401547744793, 0.29191556786223916, 0.2776813252589353]
Average score: 0.2847398052704075

ADD sum161718bin  DROP ps_ind_10_bin ps_ind_11_bin ps_ind_12_bin ps_ind_13_bin and ps_ind_14

Investigate more on ps_car_cat
